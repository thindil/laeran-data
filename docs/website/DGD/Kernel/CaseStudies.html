<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />

  <title>The Phantasmal MUDlib for DGD: Security Case Studies
</title>
  <link href="../../css/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <div class="header_pane">
    <p>Phantasmal MUD Lib for DGD</p>

  </div>

  <div class="banner_pane">
    <table class="banner">
  <tr>
    <td class="banner" align="center"><a href=
    "http://validator.w3.org/check/referer"><img src=
    "http://www.w3.org/Icons/valid-xhtml10" alt=
    "Valid XHTML 1.0 Strict!" style=
    "border: 0; width: 88px; height: 31px;"></a> <a href=
    "http://jigsaw.w3.org/css-validator/check/referer"><img src=
    "http://jigsaw.w3.org/css-validator/images/vcss" alt=
    "Valid CSS!" style="border: 0; width: 88px; height: 31px;"></a>
    <a href="http://sourceforge.net"><img src=
    "http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
    style="border: 0; width: 125px; height: 37px;" alt=
    "SourceForge.net Logo"></a></td>
  </tr>
</table>

  </div>

  <table>
    <tr>
      <td valign="top" class="index_pane">
        <ul>
<li><a href="../../index.html">Phantasmal Site</a></li>
<ul>
<li><a href="../../History.html">History</a></li>
<li><a href="../../Installing.html">Installing Baseline Phantasmal</a></li>
<li><a href="../../Comparison.html">Comparison to Other Libs</a></li>
<li><a href="../../Credits.html">Credits</a></li>
<li><a href="../../Current.html">Current Features</a></li>
<li><a href="../../WhatIsPhantasmal.html">About</a></li>
<li><a href="../../API/index.html">Phantasmal API</a></li>
<li><a href="../../Archive/index.html">Archive</a></li>
<li><a href="../../Design/index.html">Design</a></li>
<li><a href="../../Development/index.html">Development</a></li>
<li><a href="../index.html">DGD</a></li>
<ul>
<li><a href="../Manual/index.html">DGD Reference Manual</a></li>
<li><a href="../Contribute.html">Contributing to DGD</a></li>
<li><a href="../CSharp_vs_DGD.html">CSharp vs DGD</a></li>
<li><a href="../DGD_Terms.html">DGD Glossary</a></li>
<li><a href="../Java_vs_DGD.html">Java vs DGD</a></li>
<li><a href="../Misc_DGD.html">Miscellaneous DGD</a></li>
<li><a href="../MudOS_vs_DGD.html">MudOS vs DGD</a></li>
<li><a href="../MUDs_using_DGD.html">DGD MUDs</a></li>
<li><a href="../SlushBucket.html">Slush Bucket</a></li>
<li><a href="../Why_DGD.html">Why Use DGD?</a></li>
<li><a href="../Config/index.html">Getting DGD</a></li>
<li><a href="../GameDesign/index.html">Game Design Issues</a></li>
<li><a href="index.html">The Kernel Library</a></li>
<ul>
<li><a href="Adding.html">Adding to your MUDLib</a></li>
<li><a href="Auto_API.html">Driver &amp; Auto APIs</a></li>
<li>Security Case Studies</li>
<li><a href="Commands.html">Commands in the Kernel</a></li>
<li><a href="Debugging.html">Debugging with the Kernel</a></li>
<li><a href="Directories.html">Directory Structure</a></li>
<li><a href="EmailArchive.html">Email Archive</a></li>
<li><a href="Errord.html">Errord</a></li>
<li><a href="Inheritance.html">Inheritance in the Kernel</a></li>
<li><a href="Layers.html">Layers of DGD</a></li>
<li><a href="Modifying.html">Extending the Kernel</a></li>
<li><a href="ObjectManager.html">Object Manager</a></li>
<li><a href="ObjectOwners.html">Object Creators and Owners</a></li>
<li><a href="Overhead.html">Kernel Overhead</a></li>
<li><a href="ScopeOfLib.html">What Does It Do?</a></li>
<li><a href="SecondAuto.html">Extra AUTO Objects</a></li>
<li><a href="Security.html">Kernel Security</a></li>
<li><a href="Threading.html">Breaking Up Functions</a></li>
<li><a href="UserConnections.html">Users and Connections</a></li>
</ul>
<li><a href="../LibWriting/index.html">Writing a Library</a></li>
<li><a href="../LPC/index.html">Untitled document (LPC/index.base.html)</a></li>
<li><a href="../Operation/index.html">What Does It Do?</a></li>
<li><a href="../Programming/index.html">DGD LPC Reference</a></li>
<li><a href="../Running/index.html">Running a MUD</a></li>
<li><a href="../Skotos/index.html">Skotos</a></li>
</ul>
<li><a href="../../Innsmouth/index.html">Innsmouth MUD</a></li>
<li><a href="../../Operation/index.html">Phantasmal Operation</a></li>
<li><a href="../../Setup/index.html">Setup</a></li>
<li><a href="../../Test/index.html">Test module index</a></li>
<li><a href="../../Tutorial/index.html">Phantasmal Tutorials</a></li>
</ul>
</ul>

      </td>
      <td valign="top" class="content_pane">
        <p><a href="index.html">Phantasmal Site</a> > <a href="index.html">DGD</a> > <a href="index.html">The Kernel Library</a> > Security Case Studies</p>



<h3>Security Case Studies Within and Around the Kernel MUDLib</h3>

<p>The best way to show you how one secures objects in a MUDLib is
to look at examples of successful security precautions, and
examples of securing objects with problems. DGD's Kernel MUDLib is
an amazingly airtight piece of work, and so we'll use it for many
of the success cases, and use programs that extend it to
demonstrate the correction of security problems.</p>
<hr>

<h1>Case Studies</h1>

<ul>
  <li><a href="#NamesKernelUser">Names in the Kernel User
  Object</a></li>
</ul>
<hr>
<a name="NamesKernelUser" id="NamesKernelUser"></a>

<h2>Names in the Kernel User Object</h2>

<p>An interesting phenomenon may be noted if one examines
/kernel/obj/user.c and its parent program /kernel/lib/user.c. Each
has a string called "name". This string is private in
/kernel/lib/user.c and public in /kernel/obj/user.c. Why?</p>

<p>Making the variable private with no setter function in
/kernel/lib/user.c makes it secure even from its own child class.
Had it not been declared private, then a child class could be
declared which could access the variable. The use of the login()
method in /kernel/lib/user.c demonstrates that the name variable is
meant to be set once and only once, never changed, and at some
point logout() will be called. This secures /kernel/lib/user's copy
of name from child classes like /kernel/obj/user.</p>

<p>So why's it matter? The simplest reason is that it keeps the
name variable from being modified. If a child class modified it,
then the values passed to USERD-&gt;login and USERD-&gt;logout
would be different, causing problems for USERD and leaving an old
login corresponding to no existing connection.</p>

<p>We don't worry as much about login not being called as we might
-- that case will still leave an extra spurious login which will
need to be removed -- because the USERD checks to see if
connections have been closed and because all of this can only be
called from trusted system code.</p>

<p>Even so, with a good objectd this example could be made even
more secure -- the objectd could inform objects when they're
destructed which would allow /kernel/lib/user to potentially know
to logout automatically, probably with a warning message, if it
wasn't logged out already when destructed.</p>

      </td>
    </tr>
  </table>

  <div class="footer_pane">
    <p>Copyright (C) 2010 Raymond Jennings</p>

<p>This website is released to the public under the terms of the
GNU Free Documentation License, Version 1.3 or later</p>

  </div>
</body>
</html>
