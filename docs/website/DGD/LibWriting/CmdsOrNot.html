<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />

  <title>The Phantasmal MUDlib for DGD: &frasl;cmd vs wiztool
</title>
  <link href="../../css/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <div class="header_pane">
    <p>Phantasmal MUD Lib for DGD</p>

  </div>

  <div class="banner_pane">
    <table class="banner">
  <tr>
    <td class="banner" align="center"><a href=
    "http://validator.w3.org/check/referer"><img src=
    "http://www.w3.org/Icons/valid-xhtml10" alt=
    "Valid XHTML 1.0 Strict!" style=
    "border: 0; width: 88px; height: 31px;"></a> <a href=
    "http://jigsaw.w3.org/css-validator/check/referer"><img src=
    "http://jigsaw.w3.org/css-validator/images/vcss" alt=
    "Valid CSS!" style="border: 0; width: 88px; height: 31px;"></a>
    <a href="http://sourceforge.net"><img src=
    "http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
    style="border: 0; width: 125px; height: 37px;" alt=
    "SourceForge.net Logo"></a></td>
  </tr>
</table>

  </div>

  <table>
    <tr>
      <td valign="top" class="index_pane">
        <ul>
<li><a href="../../index.html">Phantasmal Site</a></li>
<ul>
<li><a href="../../History.html">History</a></li>
<li><a href="../../Installing.html">Installing Baseline Phantasmal</a></li>
<li><a href="../../Comparison.html">Comparison to Other Libs</a></li>
<li><a href="../../Credits.html">Credits</a></li>
<li><a href="../../Current.html">Current Features</a></li>
<li><a href="../../WhatIsPhantasmal.html">About</a></li>
<li><a href="../../API/index.html">Phantasmal API</a></li>
<li><a href="../../Archive/index.html">Archive</a></li>
<li><a href="../../Design/index.html">Design</a></li>
<li><a href="../../Development/index.html">Development</a></li>
<li><a href="../index.html">DGD</a></li>
<ul>
<li><a href="../Manual/index.html">DGD Reference Manual</a></li>
<li><a href="../Contribute.html">Contributing to DGD</a></li>
<li><a href="../CSharp_vs_DGD.html">CSharp vs DGD</a></li>
<li><a href="../DGD_Terms.html">DGD Glossary</a></li>
<li><a href="../Java_vs_DGD.html">Java vs DGD</a></li>
<li><a href="../Misc_DGD.html">Miscellaneous DGD</a></li>
<li><a href="../MudOS_vs_DGD.html">MudOS vs DGD</a></li>
<li><a href="../MUDs_using_DGD.html">DGD MUDs</a></li>
<li><a href="../SlushBucket.html">Slush Bucket</a></li>
<li><a href="../Why_DGD.html">Why Use DGD?</a></li>
<li><a href="../Config/index.html">Getting DGD</a></li>
<li><a href="../GameDesign/index.html">Game Design Issues</a></li>
<li><a href="../Kernel/index.html">The Kernel Library</a></li>
<li><a href="index.html">Writing a Library</a></li>
<ul>
<li><a href="ChangingLPC.html">Changing LPC</a></li>
<li><a href="Cleanup.html">Object Cleanup</a></li>
<li>&frasl;cmd vs wiztool</li>
<li><a href="CondInherit.html">Conditional Inheritance</a></li>
<li><a href="Database.html">Object Database</a></li>
<li><a href="DistStateDump.html">Distribute a State Dump?</a></li>
<li><a href="DriverObj.html">Designing Driver Objs</a></li>
<li><a href="FTPD.html">FTPD</a></li>
<li><a href="GurbaLib.html">GurbaLib</a></li>
<li><a href="HeartBeat.html">State Dumps</a></li>
<li><a href="Heaven7.html">Heaven7</a></li>
<li><a href="HTTPD.html">HTTPD</a></li>
<li><a href="IMUD3.html">InterMUD3</a></li>
<li><a href="InterruptCall.html">Interrupt Call</a></li>
<li><a href="LargeAuto.html">Designing AUTO Objs</a></li>
<li><a href="LittleIssues.html">Misc Issues</a></li>
<li><a href="NFS.html">NFS</a></li>
<li><a href="ObjBinding.html">Object Binding</a></li>
<li><a href="ObjectManagement.html">Object Management</a></li>
<li><a href="OtherServices.html">Other Net Services</a></li>
<li><a href="Persistence.html">Persistent MUDLibs</a></li>
<li><a href="PlayerBody.html">Player vs Body</a></li>
<li><a href="Precompiling.html">Precompiling</a></li>
<li><a href="Reimplementation.html">Reimplementing From Scratch</a></li>
<li><a href="Releasing.html">Releasing Code</a></li>
<li><a href="Rlimits.html">Rlimits</a></li>
<li><a href="ScriptDelays.html">Script Delays</a></li>
<li><a href="Security.html">Misc Security</a></li>
<li><a href="Sendmail.html">Outgoing Email</a></li>
<li><a href="SoYouWanna.html">So You Want To...</a></li>
<li><a href="StartingNew.html">Start from Scratch?</a></li>
<li><a href="SupDocs.html">Supplementary Documentation</a></li>
<li><a href="Telnet.html">Telnet Protocol</a></li>
<li><a href="UseKernel.html">Using the Kernel</a></li>
<li><a href="UseMelville.html">Using Melville</a></li>
<li><a href="UsePhantasmal.html">Using Phantasmal</a></li>
<li><a href="WebDAV.html">WebDAV</a></li>
<li><a href="WhatLicense.html">Which License</a></li>
</ul>
<li><a href="../LPC/index.html">Untitled document (LPC/index.base.html)</a></li>
<li><a href="../Operation/index.html">What Does It Do?</a></li>
<li><a href="../Programming/index.html">DGD LPC Reference</a></li>
<li><a href="../Running/index.html">Running a MUD</a></li>
<li><a href="../Skotos/index.html">Skotos</a></li>
</ul>
<li><a href="../../Innsmouth/index.html">Innsmouth MUD</a></li>
<li><a href="../../Operation/index.html">Phantasmal Operation</a></li>
<li><a href="../../Setup/index.html">Setup</a></li>
<li><a href="../../Test/index.html">Test module index</a></li>
<li><a href="../../Tutorial/index.html">Phantasmal Tutorials</a></li>
</ul>
</ul>

      </td>
      <td valign="top" class="content_pane">
        <p><a href="index.html">Phantasmal Site</a> > <a href="index.html">DGD</a> > <a href="index.html">Writing a Library</a> > &frasl;cmd vs wiztool</p>



<h2>Should Your MUD Library Use &frasl;cmd or a Wiztool?</h2>

<p>There are two common ways of adding commands to DGD programs.
One is to have a directory of objects, traditionally called
&frasl;cmd, and add text commands to it by adding LPC files, each
with the same name as the command they will implement. The other is
to have a single object, often called a Wiztool, which takes the
input and executes an appropriate command based on it.</p>

<p>There are also a few hybrid approaches, such as the Skotos
verb&frasl;action approach. Each action has an associated grammar
in Skotos' parser, which resolves to a structure like <tt>[
"attack", &lt;Bobo#7&gt;, &lt;sword#317&gt; ]</tt>. There, each
action would presumably have a &frasl;cmd-style LPC object to
execute the action. However, the verbs add to a single central
grammar, which parses and dispatches them wiztool-style.</p>

<h3>Advantages of the Wiztool model</h3>

<p>In the kernel library, each player with wizard-level access has
his or her own wiztool, with its own privileges.
&frasl;kernel&frasl;lib&frasl;wiztool masks all functions that are
relevant to security, so that any inheriting object only has the
level of access appropriate for the owner of that object.</p>

<p>As a result, command security is handled by only three objects:
&frasl;kernel&frasl;sys&frasl;driver,
&frasl;kernel&frasl;lib&frasl;auto and
&frasl;kernel&frasl;lib&frasl;wiztool. This reduces the number of
locations where security problems can occur to a very small
number.</p>

<p>The wiztool model allows commands with similar functionality to
share code easily. It also makes it easy to see what commands use
what variables and functions. This can aid debugging and security
auditing.</p>

<p>The Kernel Library prevents any object from ever changing its
owner once it is created. This allows a wiztool to be sure on whose
behalf it acts, and prevents security problems.</p>

<h3>Problems with the Wiztool model</h3>

<p>By storing a lot of functionality in a small number of files,
the wiztool model may make it more likely that an error will cause
more problems. Storing all commands in user.c may cause problems in
logging in if it disrupts some vital part of user functionality,
for instance.</p>

<h3>Advantages of the &frasl;cmds model</h3>

<p>The &frasl;cmds model has the aesthetic appeal of putting
different commands' code in different files, which can be a large
maintenance improvement. It can also make it possible for only
certain admins to edit certain commands, rather than all commands
being necessarily ultra-high-security.</p>

<p>The &frasl;cmds model is already familiar to a lot of LPMUD
programmers. They generally have more trouble adapting to the
Wiztool model. The Diku model, while different from both Wiztool
and &frasl;cmds models, is more similar to the &frasl;smds
model.</p>

<h3>Problems with the &frasl;cmds model</h3>

<p>There is a peculiarity in the &frasl;cmds model: the commands
are not just in separate files, but they are even in separate
instantiated <i>LPC objects</i>. This has been known to lead to
security problems. Shared command objects require a high access
level. They may have this always, or they may acquire a specific
player's privileges for each command; each of these methods has its
problems.</p>
<pre>
From: DGD Mailing List (Stephen Schmidt)
Date: Mon Mar  8 19:24:00 2004
Subject: [DGD] Couple of questions

On Mon, 8 Mar 2004, William Bryan wrote:
&gt; 1)       Is there a benefit to keeping all commands in the wiztool vice
&gt; breaking them out into a typical /cmd directory structure.

As Noah said, both have advantages, and it is about even. It depends
mostly on what you're used to. I like /cmd because I'm used to it,
but also because when commands go through master objects rather
than wiztool clones, it's a little easier to update one command
at a time. Also, if you're like me and you make a lot of errors,
then it might be better to have only one command go casters-up
when you screw up than to break the wiztool. Security can be a
little chancy with command bins because commands like "delete"
and "nuke" typically have fairly high privilege levels and you
have to protect them against inappropiate calls. Wiztools have
the same problem in concept but becaue each wiztool is associated
with one wizards (assuing you do it that way) it's a bit easier
to protect them. Or so I'm told - I haven't used wiztools.

Steve
</pre>

      </td>
    </tr>
  </table>

  <div class="footer_pane">
    <p>Copyright (C) 2010 Raymond Jennings</p>

<p>This website is released to the public under the terms of the
GNU Free Documentation License, Version 1.3 or later</p>

  </div>
</body>
</html>
